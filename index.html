<!DOCTYPE html>

<html>
  <head>
    <title>Download Fr 2017 Countdown</title>
    <link rel="stylesheet" type="text/css" href="css/styles.css"/>
    <link rel="stylesheet" type="text/css" href="css/mediaqueries.css"/>
    <link rel="shortcut icon" href = "img/favicon.ico">
    <script src="jquery.js"></script>
  </head>

<body>
<div class="container">
<div class="countdown">
<script type="text/javascript">
//###################################################################
// Author: ricocheting.com
// Version: v3.1
// Date: 2017-01-03
// Description: displays the amount of time until the "dateFuture" entered below.

var CDown = function() {
	this.state=0;// if initialized
	this.counts=[];// array holding countdown date objects and id to print to {d:new Date(2013,11,18,18,54,36), id:"countbox1"}
	this.interval=null;// setInterval object
}

CDown.prototype = {
	init: function(){
		this.state=1;
		var self=this;
		this.interval=window.setInterval(function(){self.tick();}, 1000);
	},
	add: function(date,id){
		this.counts.push({d:date,id:id});
		this.tick();
		if(this.state==0) this.init();
	},
	expire: function(idxs){
		for(var x in idxs) {
			this.display(this.counts[idxs[x]], "Now!");
			this.counts.splice(idxs[x], 1);
		}
	},
	format: function(r){
		var pre='',post='',divide=', ',
			out="";
		out += pre+r.w +" "+((r.w==1)?"week":"weeks")+post+divide;
		if(r.d != 0){out += pre+r.d +" "+((r.d==1)?"day":"days")+post+divide;}
		if(r.h != 0){out += pre+r.h +" "+((r.h==1)?"hour":"hours")+post+divide;}
		out += pre+r.m +" "+((r.m==1)?"min":"mins")+post+divide;
		out += pre+r.s +" "+((r.s==1)?"sec":"secs")+post+divide;

		return out.substr(0,out.length-divide.length);
	},
	math: function(work){
		var	y=w=d=h=m=s=ms=0;

		ms=(""+((work%1000)+1000)).substr(1,3);
		work=Math.floor(work/1000);//kill the "milliseconds" so just secs

		y=Math.floor(work/31536000);//years (no leapyear support)
		w=Math.floor(work/604800);//weeks
		work=work%604800;

		d=Math.floor(work/86400);//days
		work=work%86400;

		h=Math.floor(work/3600);//hours
		work=work%3600;

		m=Math.floor(work/60);//minutes
		work=work%60;

		s=Math.floor(work);//seconds

		return {y:y,w:w,d:d,h:h,m:m,s:s,ms:ms};
	},
	tick: function(){
		var now=(new Date()).getTime(),
			expired=[],cnt=0,amount=0;

		if(this.counts)
		for(var idx=0,n=this.counts.length; idx<n; ++idx){
			cnt=this.counts[idx];
			amount=cnt.d.getTime()-now;//calc milliseconds between dates

			// if time is already past
			if(amount<0){
				expired.push(idx);
			}
			// date is still good
			else{
				this.display(cnt, this.format(this.math(amount)));
			}
		}

		// deal with any expired
		if(expired.length>0) this.expire(expired);

		// if no active counts, stop updating
		if(this.counts.length==0) window.clearTimeout(this.interval);

	},
	display: function(cnt,msg){
		document.getElementById(cnt.id).innerHTML=msg;
	}
};

window.onload=function(){
	var cdown = new CDown();

	cdown.add(new Date(2017,5,8,23,59,59), "countbox1");
};
</script>
<div id="countbox1"></div>
</div>

<div class="main">
  <div class="links">
    <a href="https://www.facebook.com/DownloadFestivalFR"><img src="img/facebook.png" alt="Facebook Logo"></a>
    <a href="https://www.instagram.com/downloadfestfr/"><img src="img/instagram.png" alt="Instagram Logo"></a>
    <a href="https://twitter.com/downloadfestfr"><img src="img/twitter.png" alt="Twitter Logo"></a>
  </div>
  <div class="background">
    <a href="http://www.downloadfestival.fr/fr"><img src="img/dlfrance2017-logo.png" alt="Download Paris Logo"></a>
  </div>
  <h2>June 9th - June 11th 2017</h2>
<!--
  <div class="scroller">
    <a href="#lineup"><img src="img/arrowdown.png"></a>
  </div>
</div>
</div>
<div id="lineup">
  <h2>FRIDAY 09 JUNE</h2>
  <ul>
    <li>LINKIN PARK</li>
    <li>BLINK-182</li>
    <li>SKINNY PUPPY</li>
    <li>PIERCE THE VEIL</li>
    <li>DAGOBA</li>
  </ul>

  <h2>SATURDAY 10 JUNE</h2>
  <ul>
    <li>SYSTEM OF A DOWN</li>
    <li>FIVE FINGER DEATH PUNCH</li>
    <li>SLAYER</li>
    <li>ALTER BRIDGE</li>
    <li>DEVILDRIVER</li>
    <li>LONELY THE BRAVE</li>
  </ul>

  <h2>SUNDAY, JUNE 11</h2>
  <ul>
    <li>GREEN DAY</li>
    <li>PROPHETS OF RAGE</li>
    <li>RANCID</li>
    <li>MASTODON</li>
    <li>SUICIDAL TENDENCIES</li>
    <li>CONVERGE</li>
    <li>ARCHITECTS</li>
    <li>CARPENTER BRUT</li>
    <li>KONTRUST</li>
    <li>WAKRAT</li>
  </ul>
  </p>
  -->
</div>
<script>
$(function() {
  $('a[href*=#]:not([href=#])').click(function() {
    if (location.pathname.replace(/^\//,'') == this.pathname.replace(/^\//,'') && location.hostname == this.hostname) {
      var target = $(this.hash);
      target = target.length ? target : $('[name=' + this.hash.slice(1) +']');
      if (target.length) {
        $('html,body').animate({
          scrollTop: target.offset().top
        }, 700);
        return false;
      }
    }
  });
});
</script>

</body>
</html>
